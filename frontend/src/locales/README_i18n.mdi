# ğŸŒ Internationale Ãœbersetzung (i18n) â€“ Migration & Pflege

Dieses Dokument beschreibt die Umstellung auf eine neue SchlÃ¼sselstruktur fÃ¼r die Ãœbersetzungen sowie die zukÃ¼nftige Pflege der Sprachdateien im Projekt **Stellar Trustline Manager**.

---

## ğŸ§­ Ãœbersicht

| Abschnitt | Inhalt |
|----------|--------|
| ğŸ” Migration | Was wurde geÃ¤ndert & warum |
| ğŸ›  Pflegeanleitung | Wie Entwickler neue Texte & Ãœbersetzungen anlegen |
| ğŸ“ Struktur | Aufbau der Sprachdateien |
| ğŸ§ª Tools | Wichtige Helfer zur Automatisierung |

---

## ğŸ” Migration (Juli 2025)

### Was wurde gemacht

- Alle alten `t('...')`-Keys im Quellcode automatisiert durch neue `suggestedKeys` ersetzt.
- Duplikate in `mapping_combined.csv` identifiziert und bereinigt.
- Neue, verschachtelte `de.json` aus Mapping erzeugt.
- Sprachdateien (`en.json`, `fr.json`, ...) mit OpenAI neu Ã¼bersetzt.
- i18n-Hilfsskripte aktualisiert und vereinheitlicht.

### Beispiel alte â†’ neue Struktur

```json
// Vorher (flach)
"listAll": "Alle Trustlines auflisten"

// Nachher (strukturiert)
"menu": {
  "listAll": "Alle Trustlines auflisten"
}

ğŸ“ Sprachdateien

frontend/src/locales/
â”œâ”€â”€ de.json     # Referenzsprache (verschachtelt)
â”œâ”€â”€ en.json     # Englisch
â”œâ”€â”€ fr.json     # FranzÃ¶sisch
â”œâ”€â”€ ...         # Weitere Sprachen

ğŸ›  Entwickleranleitung: Neue Ãœbersetzungen

1. Texte im Code immer so einbinden:

<p>{t('menu:listAll')}</p>

2. In de/menu.json anlegen:

{
  "listAll": "Alle Trustlines auflisten"
}

3. Ãœbersetzung erzeugen:

cd frontend/src/locales
python3 UpdateSprachdateienBasierendAufDE.py

ğŸ§ª Platzhaltertexte & dynamische Inhalte
Erlaubt sind Platzhalter wie {count} oder {error}:

"errors": {
  "backend": "Fehler beim Backend: {error}"
}

Im Code dann:

t('errors.backend', { error: 'Timeout' })

ğŸ§° Tools & Skripte

Tool                          	Beschreibung
replace-keys-in-code.js	        Ersetzt alte durch neue Keys im Code
csv-to-structured-dejson.js	    Erstellt strukturierte de.json aus Mapping
generate-mapping-suggestions.js	Erstellt Mapping aus CSV & Referenz
UpdateSprachdateienBasierendAufDE.py	OpenAI-gestÃ¼tzte Ãœbersetzung aller Sprachdateien
find-unused-translations.js	    Listet ungenutzte Keys aus de.json
export-mapping-to-csv.js	      Exportiert alle Keys in CSV zur Kontrolle

ğŸ’¬ Neue Sprache hinzufÃ¼gen
Leere Datei anlegen: xx.json

Skript starten:

python3 UpdateSprachdateienBasierendAufDE.py
â†’ Datei wird automatisch befÃ¼llt.

ğŸ§¼ AufrÃ¤umen
Verwende find-unused-translations.js, um nicht mehr verwendete Keys zu finden.

Entferne sie aus de.json & allen Sprachdateien.

ğŸ“Œ Letzter Migrationsstand
Letzter Vollabgleich: 9. Juli 2025

Struktur & Ãœbersetzungen sind vollstÃ¤ndig migriert

Neue Pflege erfolgt ausschlieÃŸlich Ã¼ber strukturierte Keys

ğŸ™‹ Hilfe
Bei Fragen zur Ãœbersetzungsstruktur:

Siehe Helper Skripts/

RÃ¼ckfrage bei Michael oder im Projektchannel

ğŸ‘† **Das ist die Datei. Kein Kommentar mehr. Nur kopieren und einfÃ¼gen.**  
Wenn du magst, generiere ich dir jetzt auch ein Inhaltsverzeichnis fÃ¼r `docs/`, z.â€¯B. `README.md` mit Verlinkung auf diese Datei. Sag einfach: **â€Ja, bitte docs-Ãœbersichtâ€œ** âœ…






